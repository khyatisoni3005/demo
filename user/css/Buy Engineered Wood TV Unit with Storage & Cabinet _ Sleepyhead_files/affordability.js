!function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function n(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}var r;!function(t){t.PRODUCTION="production",t.STAGING="staging",t.DEVELOPMENT="development"}(r||(r={}));var i=function(){return"production"===r.PRODUCTION},o=function(){return i()||"production"===r.STAGING},a=function(){function e(){var n=this;t(this,e),this.dispatchPendingEvents=function(){n.PENDING_EVT_Q.splice(0,n.PENDING_EVT_Q.length).forEach((function(t){n.track(t.event,t.properties,t.immediately)}))},this.EVT_Q=[],this.PENDING_EVT_Q=[],setInterval(this.flushEvents.bind(this),1e3)}return n(e,[{key:"setId",value:function(t){this.id=t}},{key:"setFingerprint",value:function(t){this.fingerprint=t}},{key:"pushToEventQ",value:function(t){this.EVT_Q.push(t)}},{key:"pushToPendingEventQ",value:function(t){this.PENDING_EVT_Q.push(t)}},{key:"flushEvents",value:function(){if(o()&&this.EVT_Q.length){var t=window.navigator.sendBeacon&&"function"==typeof window.navigator.sendBeacon,e={context:{widget:"affordability",widget_id:this.id,fingerprint:this.fingerprint,user_agent:navigator.userAgent,referer:location.href},addons:[{name:"ua_parser",input_key:"user_agent",output_key:"user_agent_parsed"}],events:this.EVT_Q.splice(0,this.EVT_Q.length)},n={url:"".concat(i()?"https://lumberjack.razorpay.com":"https://lumberjack.stage.razorpay.in","/v1/track"),data:{key:i()?"VVUN7at7OEciCAF3CXtpVEQE3zGkieRC":"ey8uAntZXGtHMoLFsno2TRnZPR03Zs31",data:encodeURIComponent(btoa(unescape(encodeURIComponent(JSON.stringify(e)))))}};try{var r=!1;t&&(r=navigator.sendBeacon(n.url,JSON.stringify(n.data))),r||fetch(n.url,{method:"POST",body:JSON.stringify(n.data)})}catch(t){}}}},{key:"track",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];o()&&(this.id&&this.fingerprint?(this.pushToEventQ({event:t,properties:e,timestamp:Date.now()}),n&&this.flushEvents()):this.pushToPendingEventQ({event:t,properties:e,immediately:n}))}}]),e}(),s=new a;function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function u(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(t,e)||function(t,e){if(t){if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function d(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return"string"==typeof e&&(e=e.split(".")),e.reduce((function(t,e){return t&&void 0!==t[e]?t[e]:n}),t)}var f,h,v,p=function(){function e(n){t(this,e),this.library="Main",n&&(this.library=n)}return n(e,[{key:"setMeta",value:function(t,n){e.meta[t]=n}},{key:"getMeta",value:function(t){return e.meta[t]}},{key:"removeMeta",value:function(t){delete e.meta[t]}},{key:"calculateMeta",value:function(){var t=function(t){if("object"!==l(t)||null===t)return console.error("Input must be an object"),{};var e={};return function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object.entries(n).forEach((function(n){var i=u(n,2),o=i[0],a=i[1],s=r?"".concat(r,".").concat(o):o;"object"===l(a)&&null!==a?t(a,s):e[s]=a})),e}(t,"")}(e.meta);for(var n in t)"function"==typeof t[n]&&(t[n]="function");return t}},{key:"track",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.data,r=void 0===n?{}:n,i=e.immediately,o=void 0!==i&&i,a=this.calculateMeta(),c=this.library;r.meta=a,c&&(t="".concat(c,"_").concat(t)),t="Affordability_".concat(t),s.track(t,r,o)}}]),e}();p.meta={},function(t){t.TIME_SINCE_INIT="timeSince",t.SCREEN="screen",t.MERCHANT_OPTION="merchant_option"}(f||(f={})),function(t){t.OFFERS_COUNT="offers.count",t.EMI_PROVIDERS_COUNT="emi.providers.count",t.CARDLESS_EMI_PROVIDERS_COUNT="cardlessemi.providers.count",t.PAYLATER_PROVIDERS_COUNT="paylater.providers.count"}(h||(h={})),function(t){t.WIDGET_ELIGIBILITY_ENABLED="widget_eligibility_enabled"}(v||(v={}));var y,m,g=new p("Main"),b=function(t){return function(e){var n,r,i,o,a,s,c,u;t.setMeta(h.CARDLESS_EMI_PROVIDERS_COUNT,Object.keys((null===(r=null===(n=null==e?void 0:e.entities)||void 0===n?void 0:n.cardless_emi)||void 0===r?void 0:r.providers)||{}).length),t.setMeta(h.EMI_PROVIDERS_COUNT,Object.keys((null===(o=null===(i=null==e?void 0:e.entities)||void 0===i?void 0:i.emi)||void 0===o?void 0:o.items)||{}).length),t.setMeta(h.OFFERS_COUNT,((null===(s=null===(a=null==e?void 0:e.entities)||void 0===a?void 0:a.offers)||void 0===s?void 0:s.items)||[]).length),t.setMeta(h.PAYLATER_PROVIDERS_COUNT,Object.keys((null===(u=null===(c=null==e?void 0:e.entities)||void 0===c?void 0:c.paylater)||void 0===u?void 0:u.providers)||{}).length)}}(g);function w(t){var e=Array.prototype.slice.apply(document.scripts).filter((function(e){return e.src.indexOf(t)>-1}));return e&&e[0]?e[0]:null}function E(t){return decodeURI(t).replace("?","").split("&").map((function(t){return t.split("=")})).reduce((function(t,e){var n=u(e,2),r=n[0],i=n[1];return t[r]=i,t}),{})}!function(t){t.RENDER_INIT="Render_Init",t.SCRIPT_LOADED="Script_Loaded"}(y||(y={})),function(t){t.DATA_FETCH="Data_Fetch",t.DATA_FETCH_SUCCESS="Data_Fetch_Success",t.DATA_FETCH_FAILURE="Data_Fetch_Failure"}(m||(m={})),window.crypto||(window.crypto=window.msCrypto);var _=function(t){return crypto.getRandomValues(new Uint8Array(t))},I=function(t,e){return function(t,e,n){var r=(2<<Math.log(t.length-1)/Math.LN2)-1,i=-~(1.6*r*e/t.length);return function(){for(var o="";;)for(var a=n(i),s=i;s--;)if((o+=t[a[s]&r]||"").length===e)return o}}(t,e,_)},k={code:1001,message:"Invalid amount passed"},T={code:1002,message:"Invalid target passed"},S={code:1003,message:"Invalid key passed"},O="razorpay-affordability-widget",A=500,F="Browser",P="Android",R="V1",x="V2";function D(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function C(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){D(o,r,i,a,s,"next",t)}function s(t){D(o,r,i,a,s,"throw",t)}a(void 0)}))}}I("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",16);var L,M,N=(L=function(t){var e=function(t){var e,n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var i=e&&e.prototype instanceof m?e:m,o=Object.create(i.prototype),a=new F(r||[]);return o._invoke=function(t,e,n){var r=f;return function(i,o){if(r===v)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw o;return R()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===y)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=v;var c=d(t,e,n);if("normal"===c.type){if(r=n.done?p:h,c.arg===y)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=p,n.method="throw",n.arg=c.arg)}}}(t,n,a),o}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var f="suspendedStart",h="suspendedYield",v="executing",p="completed",y={};function m(){}function g(){}function b(){}var w={};c(w,o,(function(){return this}));var E=Object.getPrototypeOf,_=E&&E(E(P([])));_&&_!==n&&r.call(_,o)&&(w=_);var I=b.prototype=m.prototype=Object.create(w);function k(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function n(i,o,a,s){var c=d(t[i],t,o);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"===l(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;this._invoke=function(t,r){function o(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(o,o):o()}}function S(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method))return y;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var i=d(r,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function F(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function P(t){if(t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}return{next:R}}function R(){return{value:e,done:!0}}return g.prototype=b,c(I,"constructor",b),c(b,"constructor",g),g.displayName=c(b,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c(t,s,"GeneratorFunction")),t.prototype=Object.create(I),t},t.awrap=function(t){return{__await:t}},k(T.prototype),c(T.prototype,a,(function(){return this})),t.AsyncIterator=T,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new T(u(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(I),c(I,s,"Generator"),c(I,o,(function(){return this})),c(I,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=P,F.prototype={constructor:F,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),A(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;A(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}(t.exports);try{regeneratorRuntime=e}catch(t){"object"===("undefined"==typeof globalThis?"undefined":l(globalThis))?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}},L(M={exports:{}},M.exports),M.exports),j=N;function V(t){for(var e=[],n=new DataView(t),r=0;r<n.byteLength;r+=4){var i="00000000",o=(i+n.getUint32(r).toString(16)).slice(-i.length);e.push(o)}return e.join("")}var U=function(){var t=C(j.mark((function t(e,n){var r,i;return j.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=(new TextEncoder).encode(e),t.next=3,crypto.subtle.digest(n,r);case 3:return i=t.sent,t.abrupt("return",V(i));case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),z={_storage:{},setItem:function(t,e){this._storage[t]=e},getItem:function(t){return this._storage[t]||null},removeItem:function(t){delete this._storage[t]}};var G=function(){try{var t=Date.now();window.localStorage.setItem("_storage",t);var e=window.localStorage.getItem("_storage");return window.localStorage.removeItem("_storage"),t!==parseInt(String(e))?z:window.localStorage}catch(t){return z}}(),W="razorpay_affordability_widget_fid",B="1234567890ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function H(t,e,n){var r=new Date,i={id:e.id,version:e.version,expiry:r.getTime()+n};try{G.setItem(t,JSON.stringify(i))}catch(t){return null}}function Q(t){try{var e=G.getItem(t);if(!e)return null;var n=JSON.parse(e);return(null==n?void 0:n.expiry)?(new Date).getTime()>n.expiry?(G.removeItem(t),null):n:null}catch(t){return null}}function J(t){return K.apply(this,arguments)}function K(){return K=C(j.mark((function t(e){var n,r,i;return j.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=6;break}return t.next=3,q(e);case 3:n=t.sent,t.next=8;break;case 6:r=I(B,16),n=r();case 8:return i={id:n,version:"3"},t.abrupt("return",i);case 10:case"end":return t.stop()}}),t)}))),K.apply(this,arguments)}function Y(t){return Z.apply(this,arguments)}function Z(){return(Z=C(j.mark((function t(e){var n,r;return j.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=Q(W),30,r=2592e6,n){t.next=8;break}return t.next=6,J(e);case 6:n=t.sent,H(W,n,r);case 8:return t.abrupt("return",n);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function X(){return(X=C(j.mark((function t(e){var n;return j.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Y(e);case 2:return n=t.sent,t.abrupt("return",null==n?void 0:n.id);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function q(t){return $.apply(this,arguments)}function $(){return($=C(j.mark((function t(e){var n,r;return j.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=[e,navigator.userAgent,navigator.language,(new Date).getTimezoneOffset(),navigator.hardwareConcurrency,screen.colorDepth,navigator.deviceMemory,screen.width+screen.height,screen.width*screen.height,window.devicePixelRatio],t.next=3,U(n.join(),"SHA-256");case 3:return r=t.sent,t.abrupt("return",r.substring(0,16));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function tt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"iframeFlow",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e||{},r=n.show,i=n.style,o=void 0===i?"":i,a=document.createElement("iframe");return a.height="105px",a.width="".concat(window.innerWidth,"px"),a.width="100%",a.setAttribute("title",t),a.setAttribute("class","rzp-iframe"),a.setAttribute("frameborder","0"),a.setAttribute("id",t),o&&a.setAttribute("style",o),a.style.display=r?"":"none",a.action={focus:function(){a.style.display=""},destroy:function(){a.remove()},hide:function(){a.style.display="none"},sendData:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a.contentWindow&&a.contentWindow.postMessage(JSON.stringify({topic:t,data:e,time:Date.now()}),"*")},isVisible:function(){return"none"!==a.style.display}},a}function et(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nt(t,e){return nt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},nt(t,e)}function rt(t,e){if(e&&("object"===l(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return et(t)}function it(t){return it=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},it(t)}function ot(t,e,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(t):r?r.value:e.get(t)}var at=function(){var t=document.body,e=window.getComputedStyle(t).getPropertyValue("background-color");return"transparent"!==e&&e};function st(t){return t.replace("offer_","")}function ct(t){var e=function(t){var e=d(t,"display.offers");(null==e?void 0:e.mostValuableOffer)&&(t.display.offers.mostValuableOffer=st(e.mostValuableOffer)),Array.isArray(null==e?void 0:e.offerIds)&&(t.display.offers.offerIds=e.offerIds.map(st));var n=d(t,"features.offers.list");return Array.isArray(n)&&(t.features.offers.list=n.map(st)),t}(t);return e}var ut=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.host,e=[];return e.some((function(e){return t.includes(e)}))},lt=window,dt=lt!==lt.parent,ft=dt?lt.parent:lt.opener,ht=Boolean(null===window||void 0===window?void 0:window.RazorpayAndroidBridge),vt=function(){var t,e;return null===(e=null===(t=null===window||void 0===window?void 0:window.RazorpayAndroidBridge)||void 0===t?void 0:t.onDetailPanelOpen)||void 0===e?void 0:e.call(t)},pt=function(){var t,e;return null===(e=null===(t=null===window||void 0===window?void 0:window.RazorpayAndroidBridge)||void 0===t?void 0:t.onDetailPanelClose)||void 0===e?void 0:e.call(t)},yt=function(){return"WEB_COMPONENT"===g.getMeta("variant")},mt=function(){function e(){t(this,e)}return n(e,null,[{key:"subscribe",value:function(t,n){e.subscriptions[t]||(e.subscriptions[t]=[]),e.subscriptions[t].push(n)}},{key:"resetSubscriptions",value:function(){e.subscriptions={}}},{key:"publishToParent",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";e.source||e.updateSourceFromFrameSrc();var i=n;if("object"===l(i)&&i||(i={data:n}),i.source=e.source||r||"reset",i.id=s.id,yt())e.dispatch(t,i);else if(ft){var o=JSON.stringify({data:i,topic:t,time:Date.now()});ft.postMessage(o,"*")}}},{key:"updateSourceFromFrameSrc",value:function(){dt&&window&&window.location&&(window.location.pathname.includes("detailFrame")&&(e.source="detailFrame"),window.location.pathname.includes("frame")&&(e.source="main"))}},{key:"dispatch",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t&&e.subscriptions[t]&&e.subscriptions[t].forEach((function(t){t(n)}))}}]),e}();mt.subscriptions={},mt.updateSourceFromFrameSrc(),dt&&mt.publishToParent("ready"),window.addEventListener("message",(function(t){var e={};try{e=JSON.parse(t.data)}catch(t){}var n=e||{},r=n.topic,i=n.data;r&&mt.subscriptions[r]&&mt.subscriptions[r].forEach((function(t){t(i)}))}));var gt,bt={publishToParent:mt.publishToParent,subscribe:mt.subscribe,resetSubscriptions:mt.resetSubscriptions,dispatch:mt.dispatch},wt=(gt=function(){function e(n){var r,i;t(this,e),this.dataSubscription=[],n.key&&(e.merchantKey=n.key),this.amount=n.amount,this.offerIds=(null===(i=null===(r=null==n?void 0:n.features)||void 0===r?void 0:r.offers)||void 0===i?void 0:i.list)||[]}return n(e,[{key:"setAPIData",value:function(t){this.data=t}},{key:"getAPIData",value:function(){return this.data}},{key:"setAmount",value:function(t){this.amount=t}},{key:"updateFeatures",value:function(t){var e,n;(null===(e=null==t?void 0:t.offers)||void 0===e?void 0:e.list)&&(this.offerIds=(null===(n=null==t?void 0:t.offers)||void 0===n?void 0:n.list)||[])}},{key:"getAPIPayload",value:function(){return{offerIds:this.offerIds,amount:this.amount,key:e.merchantKey}}},{key:"subscribeData",value:function(t){this.dataSubscription.push(t)}}]),e}(),gt.merchantKey="",gt);function Et(t){return"object"===("undefined"==typeof HTMLElement?"undefined":l(HTMLElement))?t instanceof HTMLElement:t&&"object"===l(t)&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName}var _t,It,kt,Tt,St,Ot,At=function(t){var e=JSON.stringify(t);return window.btoa(e)};function Ft(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=it(t);if(e){var i=it(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return rt(this,n)}}var Pt=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nt(t,e)}(i,e);var r=Ft(i);function i(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t(this,i),e=r.call(this,Object.assign({key:i.merchantKey},n)),_t.add(et(e)),e.mainFrameLoaded=!1,e.loading=!1,n.key&&(i.merchantKey=n.key),(null==n?void 0:n.checkout_callback)&&(i.checkoutCallback=n.checkout_callback),bt.resetSubscriptions(),e.options=n,e.targetElement=n.target,bt.subscribe("failed",(function(t){var e;if("main"===t.source&&(i.sendMessageToFrame(i.iframe,"loadingState",!1),b(null),g.track(m.DATA_FETCH_FAILURE,{data:{api:{error:t.error,customStatus:t.status}}}),null===(e=null==t?void 0:t.error)||void 0===e?void 0:e.error))throw new Error(t.error.error)})),window.addEventListener("popstate",(function(){i.sendMessageToFrame(i.detailIFrame,"popstate",!0)})),bt.subscribe("addDummyHistory",(function(t){"detailFrame"===t.source&&window.history.pushState({},null,"")})),bt.subscribe("apiData",(function(t){var n,r,o,a,s,c,u,l,d;"success"===t.status?(e.setAPIData(t.data),e.options&&!(null===(r=null===(n=e.options)||void 0===n?void 0:n.theme)||void 0===r?void 0:r.color)&&(e.options.theme={color:null===(s=null===(a=null===(o=t.data)||void 0===o?void 0:o.options)||void 0===a?void 0:a.theme)||void 0===s?void 0:s.color}),i.sendMessageToFrame(i.iframe,"loadingState",!1),(null===(c=t.data)||void 0===c?void 0:c.enabled)&&(i.sendMessageToFrame(i.detailIFrame,"apiResponse",{apiData:t.data,affordabilityMerchantOptions:e.options}),b(t.data)),g.setMeta("entry_point_design_version",(null===(u=null==t?void 0:t.data)||void 0===u?void 0:u.new_widget_design_enabled)?x:R),g.track(m.DATA_FETCH_SUCCESS,{data:{enabled:(null===(l=t.data)||void 0===l?void 0:l.enabled)||!1}})):g.track(m.DATA_FETCH_FAILURE,{data:{api:{error:t.error,customStatus:t.status},enabled:(null===(d=t.data)||void 0===d?void 0:d.enabled)||!1}})})),bt.subscribe("closeDetailIframe",(function(){return ot(et(e),_t,"m",Ot).call(et(e))})),bt.subscribe("showSidebar",(function(t){return ot(et(e),_t,"m",St).call(et(e),{screen:t.screen})})),bt.subscribe("setWidgetHeight",(function(t){if("main"===t.source){var n=t.data;i.iframe&&void 0!==n&&(i.iframe.height="".concat(n?n+5:n,"px"),e.targetElement.style.display=0==+n?"none":"block")}})),bt.subscribe("buyButtonClicked",(function(t){var e,n=At(t);null===(e=i.checkoutCallback)||void 0===e||e.call(i,n)})),e}return n(i,[{key:"render",value:function(){var t,e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.options=ct(Object.assign(Object.assign({},this.options||{}),n)),(null==n?void 0:n.checkout_callback)&&(i.checkoutCallback=n.checkout_callback),this.options.features&&this.updateFeatures(this.options.features),this.targetElement=(null==n?void 0:n.target)||this.targetElement,!Et(this.targetElement)&&(this.targetElement=document.getElementById(O),!this.targetElement))throw new Error(T.message);g.setMeta(f.MERCHANT_OPTION,Object.assign(Object.assign({},this.options),{target:null,targetElementId:null===(t=this.targetElement)||void 0===t?void 0:t.id})),g.track(y.RENDER_INIT),this.options.amount&&this.setAmount(this.options.amount),ot(this,_t,"m",Tt).call(this),i.sendMessageToFrame(i.iframe,"checkReady",!0),i.sendMessageToFrame(i.detailIFrame,"checkReady",!0),this.mainFrameLoaded?ot(this,_t,"m",kt).call(this):bt.subscribe("ready",(function(t){if("main"===t.source&&(ot(e,_t,"m",It).call(e,i.iframe),e.mainFrameLoaded=!0,ot(e,_t,"m",kt).call(e)),"detailFrame"===t.source){ot(e,_t,"m",It).call(e,i.detailIFrame);var n=e.getAPIData();n&&n.enabled&&i.sendMessageToFrame(i.detailIFrame,"apiResponse",{apiData:n,affordabilityMerchantOptions:e.options})}}))}},{key:"setDisplayConfig",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options.display=Object.assign(Object.assign({},this.options.display||{}),t);var e={options:this.options,bgColor:at(),viewportWidth:window.innerWidth};i.sendMessageToFrame(i.iframe,"merchantData",e),i.sendMessageToFrame(i.detailIFrame,"merchantData",e)}}],[{key:"sendMessageToFrame",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.iframe,e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t&&t.action&&t.action.sendData(e,n)}},{key:"addPrefillToCheckoutOptions",value:function(t,e){if("object"!==l(t))throw new Error("Invalid checkout options");if("string"!=typeof e)throw new Error("Invalid affordabilityWidgetPrefill");var n,r,i;try{r=e,i=window.atob(r),n=JSON.parse(i)}catch(t){throw new Error("Invalid affordabilityWidgetPrefill")}var o={method:"method",issuer:"issuer",contact:"contact",provider:"provider",offer_id:"offer_id",type:"emi[type]",duration:"emi[duration]"};return t.prefill||(t.prefill={}),Object.keys(n).forEach((function(e){var r=n[e],i=o[e];i&&r&&(t.prefill[i]=r)})),t._||(t._={}),t._.integration="Affordability Widget",t._.integration_id=n.session_id,t}}]),i}(wt);_t=new WeakSet,It=function(t){Pt.sendMessageToFrame(t,"trackingIds",{widget_id:s.id,fingerprint:s.fingerprint})},kt=function(){Pt.sendMessageToFrame(Pt.iframe,"loadingState",!0),Pt.sendMessageToFrame(Pt.iframe,"merchantData",{options:this.options,bgColor:at(),viewportWidth:window.innerWidth}),this.loading=!0;var t=this.getAPIPayload();if(!t.key)throw new Error(S.message);if("number"!=typeof t.amount)throw new Error(k.message);t.key||(t.key=Pt.merchantKey),Pt.sendMessageToFrame(Pt.iframe,"fetchData",{payload:t,options:{basePath:Pt.baseAPIPath}}),g.track(m.DATA_FETCH,{data:{payload:t,options:this.options}})},Tt=function(){var t=this.targetElement;if(ut()){var e=document.querySelector("#rzpAffordabilityMainFrame");t&&Pt.iframe&&Pt.iframe!==e&&(this.targetElement.innerHTML="",this.targetElement.appendChild(Pt.iframe))}if(t&&Pt.iframe&&(!Pt.iframe.visible||!t.contains(Pt.iframe))){var n=Pt.iframe;t.classList.add("rzp-container");var r=t.clientWidth;r>A&&(r=A),n.width="".concat(r,"px"),t.appendChild(n),n.action.focus(),Pt.iframe.visible=!0}},St=function(t){var e=t.screen;vt(),Pt.detailIFrame.action.isVisible()||(Pt.detailIFrame.action.focus(),document.body&&(this.bodyOverflow=document.body.style.overflow,document.body.style.overflow="hidden"),Pt.sendMessageToFrame(Pt.detailIFrame,"focus",{viewportWidth:window.innerWidth,isAndroid:ht,screen:e,eligibilityBaseUrl:Pt.baseEligibilityAPIPath,isCheckoutCallbackPassed:"function"==typeof Pt.checkoutCallback}))},Ot=function(){pt(),Pt.detailIFrame.action.hide(),document.body&&(document.body.style.overflow=this.bodyOverflow)},Pt.merchantKey="",Pt.iframe=null;var Rt=function(t){var e,n,r,i;return null===(i=null===(r=null===(n=null===(e=null===navigator||void 0===navigator?void 0:navigator.userAgent)||void 0===e?void 0:e.toLocaleLowerCase)||void 0===n?void 0:n.call(e))||void 0===r?void 0:r.includes)||void 0===i?void 0:i.call(r,t.toLocaleLowerCase())},xt=Rt("Chrome"),Dt=!(Rt("Safari")&&!xt||ht);try{var Ct="/affordability/affordability.js";window.location.host.includes("localhost")&&(Ct="affordability.js"),g.setMeta("experiment.load_iframe_before_render",!0);var Lt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"key",n=w(t);if(n){if(n.getAttribute("data-".concat(e)))return n.getAttribute("data-".concat(e));if(n.src.indexOf("".concat(e,"="))>-1)return E(n.src.split("?")[1])[e]}return""}(Ct),Mt=function(t){var e=w(t);return e&&e.src?e.src.substr(0,e.src.lastIndexOf("/")):"https://cdn.razorpay.com/widgets/affordability"}(Ct);g.setMeta("variant","IFRAME"),g.setMeta("device_type",ht?P:F),s.setId(function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21,e="",n=crypto.getRandomValues(new Uint8Array(t));t--;){var r=63&n[t];e+=r<36?r.toString(36):r<62?(r-26).toString(36).toUpperCase():r<63?"_":"-"}return e}(16)),Dt&&function(t){return X.apply(this,arguments)}().then((function(t){return s.setFingerprint(t)})),function(t,e){var n,r,i;t&&(Pt.merchantKey=t);var o,a,s=ut(window.location.host),c=tt("rzpAffordabilityMainFrame"),u=(null===(n=window.RazorpayAffordabilitySuite)||void 0===n?void 0:n.frameSrc)||"".concat(e,"/frame.html");c.src=u,c.setAttribute("loading","lazy"),Pt.baseAPIPath=(null===(r=window.RazorpayAffordabilitySuite)||void 0===r?void 0:r.api)||"",Pt.baseEligibilityAPIPath=(null===(i=window.RazorpayAffordabilitySuite)||void 0===i?void 0:i.eligibility_api)||"",Pt.iframe=c,s&&function(t){try{var e=0,n=setInterval((function(){e>=10&&(clearInterval(n),console.warn(T.message)),Pt.iframe.visible?clearInterval(n):function(t){var e=document.getElementById(O);if(e&&Pt.iframe&&(!Pt.iframe.visible||!e.contains(Pt.iframe))){e.classList.add("rzp-container");var n=e.clientWidth;n>A&&(n=A),t.width="".concat(n,"px"),e.appendChild(t),t.action.focus(),Pt.iframe.visible=!0}}(t),e++}),10)}catch(t){return null}}(Pt.iframe),Pt.detailIFrame=(o=function(t){var e,n;return null!==(n=null===(e=window.RazorpayAffordabilitySuite)||void 0===e?void 0:e.detailFrameSrc)&&void 0!==n?n:"".concat(t,"/detailFrame.html")}(e),(a=tt("rzpAffordabilityDetailFrame",{style:"z-index: 99999;\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        border: 0;\n        outline: 0;"})).height="100%",a.width="100%",a.src=o,a),function(t){var e=setInterval((function(){document.body&&(document.body.appendChild(t),clearInterval(e))}),100)}(Pt.detailIFrame),window.RazorpayAffordabilitySuite=Pt}(Lt,Mt),g.track(y.SCRIPT_LOADED)}catch(t){console.error(t)}}();
